description: >
  Publish

parameters:
  path:
    type: string
  access:
    type: string
    default: public

executor:
  docker:
    - image: circleci/node

steps:
  - attach_workspace:
      at: .
  - run:
      name: Initializing npm publishing
      command: sudo npm install -g npm-cli-adduser && npm-cli-adduser
  - run:
      name: Publishing npm package
      command: cd << parameters.path >> && npm publish --access=<< parameters.access >>
