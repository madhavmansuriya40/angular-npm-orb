description: >
  Test

executors: 
  node:
    docker:
      - image: circleci/node

publish:
  parameters:
    path:
      type: string
    access:
      type: string
      default: public

  executor: node
  steps:
    - attach_workspace:
        at: .
    - run:
        name: 🛠️ Initializing npm publishing
        command: sudo npm install -g npm-cli-adduser && npm-cli-adduser
    - run:
        name: 📦 Publishing npm package
        command: cd << parameters.path >> && npm publish --access=<< parameters.access >>
