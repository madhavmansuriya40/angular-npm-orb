description: >
  Build

parameters:
  project:
    type: string

executor: 
  docker:
    - image: circleci/node

steps:
  - checkout
  - run:
      name: ğŸ› ï¸ Installing npm dependencies
      command: if [ ! -d "node_modules" ]; then npm ci; fi
  - run:
      name: ğŸ› ï¸ Restoring package-lock.json
      command: git checkout package-lock.json
  - run:
      name: ğŸ› ï¸ Building
      command: npm run build -- << parameters.project >>
  - persist_to_workspace:
      root: .
      paths:
        - dist
